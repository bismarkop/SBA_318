<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles.css" />
    <title>Document</title>
  </head>
  <body>
    <h1>Expense Tracker</h1>

    <main>
      <div id="header">
        <div>
          <h5>Balance</h5>
          <span id="balance">$0.00</span>
        </div>
        <div>
          <h5>Expenses</h5>
          <span id="expense">$0.00</span>
        </div>
        <div>
          <h5>Income</h5>
          <span id="income">$0.00</span>
        </div>
      </div>

      <section>
        <h3>Add Transaction</h3>
        <form id="transactionForm">
          <!-- action="/form-handling-page" method="post" -->

          <div>
            <label for="name">Name of expense or income:</label>
            <input type="text" id="name" name="expense-income" required />
          </div>

          <div>
            <label for="amount">Amount:</label>
            <input
              id="amount"
              type="number"
              name="amount"
              value="0"
              min=".01"
              step=".01"
              required
            />
          </div>

          <div>
            <label for="date">Date:</label>
            <input id="date" type="date" name="date" required />
          </div>
          <button type="submit" id="submitBtn">Submit</button>
        </form>
      </section>
    </main>

    <script>
      const form = document.getElementById("transactionForm");
      const nameOf = document.getElementById("name");
      const amount = document.getElementById("amount");
      const date = document.getElementById("date");

      const transactions = [];

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        let expOrInc = nameOf.value;
        let amountEntered = amount.value;
        let dateOf = date.value;

        sessionStorage.setItem("exp-or-inc", expOrInc);
        sessionStorage.setItem("enteredAmount", amountEntered);
        sessionStorage.setItem("addDate", dateOf);

        // Keeping this for possible future use of JSON for data manipulation
        // sessionStorage.setItem("transactionInfo", JSON.stringify({
        //   transactionName: expOrInc,
        //   amount: amountEntered,
        //   date: dateOf,
        // }));

        let newEntry = addTransactions(expOrInc, amountEntered, dateOf);
        console.log(newEntry);
        

        function addTransactions(nameInput, amount, dateAdded) {
          let transactionObj = {};
          transactionObj["transactionName"] = nameInput;
          transactionObj["transactionAmount"] = amount;
          transactionObj["dateOfTransaction"] = dateAdded;

          transactions.push(transactionObj);
          return transactionObj;
        }

        window.location.href = "transactions";
      });
    </script>
  </body>
</html>
